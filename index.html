<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Akadeemilised organisatsioonid</title>
	<style>
		body {
			font-family: 'Oswald', sans-serif;
			color: #333;
		}
		
		#container {
			margin: auto;
			width: 50%;
		}
		
		#table {
			border-collapse: collapse;
		}
		
		#table td, #table th {
			text-align: left;
			border: 1px solid #ddd;
			padding: 8px;
		}
	</style>
</head>
	<body>
		<div id="container">
			<h1>Akadeemiliste organisatsioonide informatsioon</h1>
			<select id="color">
				<option value="none"></option>
				<option value="puuduvad">Puuduvad</option>
				<option value="beež">Beež</option>
				<option value="kollane">Kollane</option>
				<option value="kuldne">Kuldne</option>
				<option value="lilla">Lilla</option>
				<option value="must">Must</option>
				<option value="pruun">Pruun</option>
				<option value="punane">Punane</option>
				<option value="roheline">Roheline</option>
				<option value="roosa">Roosa</option>
				<option value="sinine">Sinine</option>
				<option value="valge">Valge</option>
				<option value="violetne">Violetne</option>
			</select>
			<button type="button" onclick="doStuff()">Otsi</button><br><br>
			<div id="table">
				
			</div>
		</div>
	</body>
	<script>
	"use strict";
		var orgs = [
			{name:"Korp! Filiae Patriae", motto:"Eesti tütar, Eesti kodu tugevasti seotud olgu", date:"27. oktoober 1920", colors:["valge", "punane", "roheline"]},
			{name:"Korp! Indla", motto:"Sõnasse kindlust,teosse ausust, kodule armastust", date:"7. märts 1924", colors:["kirsipruun", "valge", "roheline"]},
			{name:"Korp! Lembela", motto:"Constantia ad finem ducit", date:"24. oktoober 1924", colors:["helebeež", "roheline", "violetne"]},
			{name:"Korp! Amicitia", motto:"Per aspera ad astra", date:"21. november 1924", colors:["sirelililla", "tumeroheline", "kuldne"]},
			{name:"Korp! Sororitas Estoniae", motto:"Teadmised on ilu", date:"16. veebruar 2011", colors:["valge", "karmiinroosa", "must"]},
			{name:"Korp! Vironia", motto:"Ühisus, kindlus, ausus", date:"26. november 1900", colors:["violetne", "must", "valge"]},
			{name:"Korp! Fraternitas Estica", motto:"Teos õiglane ja vahvas, ustav sulle, Eesti rahvas", date:"9. mai 1907", colors:["sinine", "roheline", "valge"]},
			{name:"Korp! Sakala", motto:"Üks kõigi, kõik ühe eest", date:"14. november 1909", colors:["sinine", "violetne", "valge"]},
			{name:"Korp! Ugala", motto:"Isamaa, sõprus, ausus", date:"30. oktoober 1913", colors:["must", "sinine", "valge"]},
			{name:"Korp! Rotalia", motto:"Eestimaa, mu isamaa", date:"10. november 1913", colors:["sinine", "must", "roheline"]},
			{name:"Korp! Fraternitas Liviensis", motto:"Vendlus, ausus, hoolsus", date:"28. jaanuar 1918", colors:["violetne", "roheline", "valge"]},
			{name:"Korp! Leola", motto:"Age quod agis", date:"16. oktoober 1920", colors:["violetne", "kollane", "valge"]},
			{name:"Korp! Revelia", motto:"Üks kõige – kõik ühe eest", date:"3. detsember 1920", colors:["roheline", "must", "valge"]},
			{name:"Korp! Tehnola", motto:"Kindlus, ausus, vendlus", date:"23. oktoober 1921", colors:["must", "roheline", "valge"]},
			{name:"Korp! Fraternitas Tartuensis", motto:"Pidevas töös, tõe valguses, elurõõmsalt tulevikku!", date:"27. märts 1929", colors:["roheline", "valge", "violetne"]},
			{name:"Eesti Üliõpilaste Selts", motto:"-", date:"7. aprill 1870", colors:["sinine", "must", "valge"]},
			{name:"EÜS Põhjala", motto:"Töö isamaa kasuks", date:"25. november 1884", colors:["puuduvad"]},
			{name:"ÜS Liivika", motto:"Ex solo ad solem soli patriae", date:"21. aprill 1909", colors:["puuduvad"]},
			{name:"Eesti Naisüliõpilaste Selts", motto:"-", date:"14. november 1911", colors:["puuduvad"]},
			{name:"EYS Veljesto", motto:"Õige vaimsuse kaudu vendlusele", date:"24. veebruar 1920", colors:["puuduvad"]},
			{name:"ÜS Raimla", motto:"Demokraatia, isiksus, vendlus", date:"22. september 1922", colors:["sinine", "valge"]},
			{name:"ÜÜ Fraternitas Fennica", motto:"-", date:"22. oktoober 1926", colors:["kuldne", "must", "valge"]}
		];
		
		function doStuff() {
			var selectedColor = document.getElementById("color").value;
			var orgsWithSelected = getColor(selectedColor);
			var colorTable = makeTable(orgsWithSelected);
			document.getElementById("table").innerHTML = colorTable;
		}
		
		function getColor(selectedColor) {
			console.log(selectedColor);
			var orgsWithSelected = [];
			for (var i = 0; i < orgs.length; i++) {
				var orgColors = orgs[i].colors;
				for (var j = 0; j < orgColors.length; j++) {
					if (orgColors[j].includes(selectedColor)) {
						orgsWithSelected.push(orgs[i]);
					}
				}
			}
			return orgsWithSelected;
		}
		
		function makeTable(orgsWithSelected) {
			var table = "<table id=\"data\"><tr><th>Nimi</th><th>Lipukiri</th><th>Asutamise aeg</th><th>Värvid</th></tr>";
			for (var i = 0; i < orgsWithSelected.length; i++) {
				var selected = orgsWithSelected[i];
				var colors = selected.colors;
				var selectedColors = "";
				for (var j = 0; j < colors.length; j++) {
					selectedColors += colors[j] + " ";
				}
				table += "<tr>"
				table += "<td>" + selected.name +"</td>"+"<td>"+ selected.motto +"</td>"+"<td>"+ selected.date +"</td>"+"<td>"+ selectedColors+"</td>"+"\n";
				table += "</tr>"
			}
			table += "</table>"
			return table;
		}
		
	</script>
</html>
